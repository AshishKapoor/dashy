openapi: 3.0.3
info:
  title: dashy
  version: 1.0.0
  description: Dashy Application Programming Interface
paths:
  /api/accounts/memberships/:
    get:
      operationId: accounts_memberships_list
      tags:
        - accounts
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Membership"
          description: ""
    post:
      operationId: accounts_memberships_create
      tags:
        - accounts
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Membership"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/Membership"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/Membership"
        required: true
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Membership"
          description: ""
  /api/accounts/memberships/{id}/:
    get:
      operationId: accounts_memberships_retrieve
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this membership.
          required: true
      tags:
        - accounts
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Membership"
          description: ""
    put:
      operationId: accounts_memberships_update
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this membership.
          required: true
      tags:
        - accounts
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Membership"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/Membership"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/Membership"
        required: true
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Membership"
          description: ""
    patch:
      operationId: accounts_memberships_partial_update
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this membership.
          required: true
      tags:
        - accounts
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PatchedMembership"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/PatchedMembership"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/PatchedMembership"
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Membership"
          description: ""
    delete:
      operationId: accounts_memberships_destroy
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this membership.
          required: true
      tags:
        - accounts
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "204":
          description: No response body
  /api/accounts/organizations/:
    get:
      operationId: accounts_organizations_list
      tags:
        - accounts
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Organization"
          description: ""
    post:
      operationId: accounts_organizations_create
      tags:
        - accounts
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Organization"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/Organization"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/Organization"
        required: true
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Organization"
          description: ""
  /api/accounts/organizations/{id}/:
    get:
      operationId: accounts_organizations_retrieve
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this organization.
          required: true
      tags:
        - accounts
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Organization"
          description: ""
    put:
      operationId: accounts_organizations_update
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this organization.
          required: true
      tags:
        - accounts
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Organization"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/Organization"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/Organization"
        required: true
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Organization"
          description: ""
    patch:
      operationId: accounts_organizations_partial_update
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this organization.
          required: true
      tags:
        - accounts
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PatchedOrganization"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/PatchedOrganization"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/PatchedOrganization"
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Organization"
          description: ""
    delete:
      operationId: accounts_organizations_destroy
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this organization.
          required: true
      tags:
        - accounts
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "204":
          description: No response body
  /api/accounts/roles/:
    get:
      operationId: accounts_roles_list
      tags:
        - accounts
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Role"
          description: ""
    post:
      operationId: accounts_roles_create
      tags:
        - accounts
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Role"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/Role"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/Role"
        required: true
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Role"
          description: ""
  /api/accounts/roles/{id}/:
    get:
      operationId: accounts_roles_retrieve
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this role.
          required: true
      tags:
        - accounts
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Role"
          description: ""
    put:
      operationId: accounts_roles_update
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this role.
          required: true
      tags:
        - accounts
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Role"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/Role"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/Role"
        required: true
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Role"
          description: ""
    patch:
      operationId: accounts_roles_partial_update
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this role.
          required: true
      tags:
        - accounts
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PatchedRole"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/PatchedRole"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/PatchedRole"
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Role"
          description: ""
    delete:
      operationId: accounts_roles_destroy
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this role.
          required: true
      tags:
        - accounts
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "204":
          description: No response body
  /api/auth/token/:
    post:
      operationId: auth_token_create
      description: |-
        Takes a set of user credentials and returns an access and refresh JSON web
        token pair to prove the authentication of those credentials.
      tags:
        - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TokenObtainPair"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/TokenObtainPair"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/TokenObtainPair"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TokenObtainPair"
          description: ""
  /api/auth/token/refresh/:
    post:
      operationId: auth_token_refresh_create
      description: |-
        Takes a refresh type JSON web token and returns an access type JSON web
        token if the refresh token is valid.
      tags:
        - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TokenRefresh"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/TokenRefresh"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/TokenRefresh"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TokenRefresh"
          description: ""
  /api/auth/token/verify/:
    post:
      operationId: auth_token_verify_create
      description: |-
        Takes a token and indicates if it is valid.  This view provides no
        information about a token's fitness for a particular use.
      tags:
        - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TokenVerify"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/TokenVerify"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/TokenVerify"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TokenVerify"
          description: ""
  /api/bi/dashboards/:
    get:
      operationId: bi_dashboards_list
      tags:
        - bi
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Dashboard"
          description: ""
    post:
      operationId: bi_dashboards_create
      tags:
        - bi
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Dashboard"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/Dashboard"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/Dashboard"
        required: true
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Dashboard"
          description: ""
  /api/bi/dashboards/{id}/:
    get:
      operationId: bi_dashboards_retrieve
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this dashboard.
          required: true
      tags:
        - bi
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Dashboard"
          description: ""
    put:
      operationId: bi_dashboards_update
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this dashboard.
          required: true
      tags:
        - bi
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Dashboard"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/Dashboard"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/Dashboard"
        required: true
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Dashboard"
          description: ""
    patch:
      operationId: bi_dashboards_partial_update
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this dashboard.
          required: true
      tags:
        - bi
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PatchedDashboard"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/PatchedDashboard"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/PatchedDashboard"
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Dashboard"
          description: ""
    delete:
      operationId: bi_dashboards_destroy
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this dashboard.
          required: true
      tags:
        - bi
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "204":
          description: No response body
  /api/bi/indicators/:
    get:
      operationId: bi_indicators_list
      tags:
        - bi
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Indicator"
          description: ""
    post:
      operationId: bi_indicators_create
      tags:
        - bi
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Indicator"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/Indicator"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/Indicator"
        required: true
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Indicator"
          description: ""
  /api/bi/indicators/{id}/:
    get:
      operationId: bi_indicators_retrieve
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this indicator.
          required: true
      tags:
        - bi
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Indicator"
          description: ""
    put:
      operationId: bi_indicators_update
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this indicator.
          required: true
      tags:
        - bi
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Indicator"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/Indicator"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/Indicator"
        required: true
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Indicator"
          description: ""
    patch:
      operationId: bi_indicators_partial_update
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this indicator.
          required: true
      tags:
        - bi
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PatchedIndicator"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/PatchedIndicator"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/PatchedIndicator"
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Indicator"
          description: ""
    delete:
      operationId: bi_indicators_destroy
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this indicator.
          required: true
      tags:
        - bi
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "204":
          description: No response body
  /api/bi/iot/:
    get:
      operationId: bi_iot_list
      tags:
        - bi
      security:
        - cookieAuth: []
        - basicAuth: []
      parameters:
        - in: query
          name: device_id
          schema:
            type: string
        - in: query
          name: metric
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/IoTMeasurement"
          description: ""
    post:
      operationId: bi_iot_create
      tags:
        - bi
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/IoTMeasurement"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/IoTMeasurement"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/IoTMeasurement"
        required: true
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/IoTMeasurement"
          description: ""
  /api/bi/iot/ingest/:
    post:
      operationId: bi_iot_ingest_create
      tags:
        - bi
      description: Bulk ingest IoT data via JSON or CSV upload.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                device_id:
                  type: string
                metric:
                  type: string
                rows:
                  type: array
                  items:
                    type: object
                    properties:
                      recorded_at:
                        type: string
                        format: date-time
                      value:
                        type: number
                      tags:
                        type: object
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "201":
          content:
            application/json:
              schema:
                type: object
                properties:
                  created:
                    type: integer
          description: ""
  /api/bi/workspaces/:
    get:
      operationId: bi_workspaces_list
      tags:
        - bi
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "200":
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Workspace"
          description: ""
    post:
      operationId: bi_workspaces_create
      tags:
        - bi
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Workspace"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/Workspace"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/Workspace"
        required: true
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Workspace"
          description: ""
  /api/bi/workspaces/{id}/:
    get:
      operationId: bi_workspaces_retrieve
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this workspace.
          required: true
      tags:
        - bi
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Workspace"
          description: ""
    put:
      operationId: bi_workspaces_update
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this workspace.
          required: true
      tags:
        - bi
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Workspace"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/Workspace"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/Workspace"
        required: true
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Workspace"
          description: ""
    patch:
      operationId: bi_workspaces_partial_update
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this workspace.
          required: true
      tags:
        - bi
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PatchedWorkspace"
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/PatchedWorkspace"
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/PatchedWorkspace"
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Workspace"
          description: ""
    delete:
      operationId: bi_workspaces_destroy
      parameters:
        - in: path
          name: id
          schema:
            type: integer
          description: A unique integer value identifying this workspace.
          required: true
      tags:
        - bi
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "204":
          description: No response body
  /api/bi/viz/query/:
    post:
      operationId: bi_viz_query_create
      tags:
        - bi
      description: Execute a read-only SQL query against the IoT data. Only SELECT queries are allowed.
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SQLQuery"
        required: true
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SQLQueryResult"
          description: ""
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SQLQueryError"
          description: Bad request or invalid query
  /api/bi/viz/schema/:
    get:
      operationId: bi_viz_schema_retrieve
      tags:
        - bi
      description: Get the schema of the IoT measurement table for SQL assistance.
      security:
        - cookieAuth: []
        - basicAuth: []
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TableSchema"
          description: ""
components:
  schemas:
    Dashboard:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          maxLength: 255
        type:
          type: string
          maxLength: 100
        config: {}
        workspace:
          type: integer
        created_by:
          type: integer
          nullable: true
      required:
        - id
        - name
        - type
        - workspace
    Indicator:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          maxLength: 255
        formula:
          type: string
        frequency:
          type: string
          maxLength: 100
        category:
          type: integer
        owner:
          type: integer
          nullable: true
      required:
        - category
        - formula
        - frequency
        - id
        - name
    IoTMeasurement:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        organization:
          type: integer
        device_id:
          type: string
          maxLength: 255
        metric:
          type: string
          maxLength: 255
        recorded_at:
          type: string
          format: date-time
        value:
          type: number
          nullable: true
        tags:
          type: object
      required:
        - id
        - organization
        - device_id
        - metric
        - recorded_at
    Membership:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        user:
          type: integer
        organization:
          type: integer
        role:
          type: integer
      required:
        - id
        - organization
        - role
        - user
    Organization:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          maxLength: 255
        domain:
          type: string
          nullable: true
          maxLength: 255
      required:
        - id
        - name
    PatchedDashboard:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          maxLength: 255
        type:
          type: string
          maxLength: 100
        config: {}
        workspace:
          type: integer
        created_by:
          type: integer
          nullable: true
    PatchedIndicator:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          maxLength: 255
        formula:
          type: string
        frequency:
          type: string
          maxLength: 100
        category:
          type: integer
        owner:
          type: integer
          nullable: true
    PatchedMembership:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        user:
          type: integer
        organization:
          type: integer
        role:
          type: integer
    PatchedOrganization:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          maxLength: 255
        domain:
          type: string
          nullable: true
          maxLength: 255
    PatchedRole:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          maxLength: 200
        organization:
          type: integer
        permissions:
          type: array
          items:
            type: integer
    PatchedWorkspace:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          maxLength: 255
        description:
          type: string
          nullable: true
        organization:
          type: integer
    Role:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          maxLength: 200
        organization:
          type: integer
        permissions:
          type: array
          items:
            type: integer
      required:
        - id
        - name
        - organization
    TokenObtainPair:
      type: object
      properties:
        username:
          type: string
          writeOnly: true
        password:
          type: string
          writeOnly: true
        access:
          type: string
          readOnly: true
        refresh:
          type: string
          readOnly: true
      required:
        - access
        - password
        - refresh
        - username
    TokenRefresh:
      type: object
      properties:
        access:
          type: string
          readOnly: true
        refresh:
          type: string
          writeOnly: true
      required:
        - access
        - refresh
    TokenVerify:
      type: object
      properties:
        token:
          type: string
          writeOnly: true
      required:
        - token
    Workspace:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          maxLength: 255
        description:
          type: string
          nullable: true
        organization:
          type: integer
      required:
        - id
        - name
        - organization
    SQLQuery:
      type: object
      properties:
        query:
          type: string
          description: SQL SELECT query to execute
        limit:
          type: integer
          default: 1000
          description: Maximum number of rows to return (max 10000)
      required:
        - query
    SQLQueryResult:
      type: object
      properties:
        columns:
          type: array
          items:
            type: string
          description: Column names from the query result
        rows:
          type: array
          items:
            type: object
          description: Array of row objects with column values
        count:
          type: integer
          description: Number of rows returned
      required:
        - columns
        - rows
        - count
    SQLQueryError:
      type: object
      properties:
        error:
          type: string
          description: Error message
      required:
        - error
    TableSchema:
      type: object
      properties:
        table_name:
          type: string
        columns:
          type: array
          items:
            type: object
            properties:
              name:
                type: string
              type:
                type: string
              description:
                type: string
        example_queries:
          type: array
          items:
            type: object
            properties:
              description:
                type: string
              query:
                type: string
  securitySchemes:
    basicAuth:
      type: http
      scheme: basic
    cookieAuth:
      type: apiKey
      in: cookie
      name: sessionid
